<!DOCTYPE html>
<html lang="es">
    <head>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="icon" type="image/x-icon" href="static/img/logo.png" />
        <title>Boda Irene & Alberto</title>
        <!-- Font Awesome icons (free version)-->
        
        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=Caveat:wght@500&display=swap" rel="stylesheet">
        <!-- Bootstrap 5.3 -->
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-KK94CHFLLe+nY2dmCWGMq91rCGa5gtU4mk92HdvYe+M/SXH301p5ILy+dN9+nJOZ" crossorigin="anonymous">
    
        <!-- Core theme CSS (includes Bootstrap)-->
        <link href="static/css/animate.min.css" rel="stylesheet" />
        <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.3/dist/leaflet.css" integrity="sha256-kLaT2GOSpHechhsozzB+flnD+zUyjE2LlfWPgU04xyI=" crossorigin=""/>
        <link href="static/css/estilos.min.css" rel="stylesheet" />

    </head>
    <body style="background-color: rgba(221, 160, 221, .4);">
        <!-- Navigation-->
        <nav class="navbar navbar-expand-lg navbar-light nav-fill w-100" id="mainNav">
            <div class="container px-4 px-lg-5">
				<a class="navbar-brand" href="index.html">Irene & Alberto</a>
                <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarResponsive" aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation">
                    <i class="fas fa-bars"></i>
                </button>
                <div class="collapse navbar-collapse" id="navbarResponsive">
                    <ul class="navbar-nav ms-auto py-4 py-lg-0 " id="spyscroll">
                        <li class="nav-item"><a class="nav-link px-lg-3 py-3 py-lg-4" href="#inicio">Inicio</a></li>
                        <li class="nav-item"><a class="nav-link px-lg-3 py-3 py-lg-4" href="#celebracion">Ceremonia</a></li>
                        <li class="nav-item"><a class="nav-link px-lg-3 py-3 py-lg-4" href="#asistencia">Asistencia</a></li>
                        <li class="nav-item"><a class="nav-link px-lg-3 py-3 py-lg-4" href="#hoteles">Hoteles</a></li>
                        <li class="nav-item"><a class="nav-link px-lg-3 py-3 py-lg-4" href="#luna-miel">Regalo</a></li>
                    </ul>
                </div>
            </div>
        </nav>    
        <div data-bs-spy="scroll" data-bs-target="#navbarResponsive" data-bs-offset="0">
            <div id="inicio">
                <!-- Masthead-->
                <header class="masthead">
                    <div class="container-fluid px-4 px-lg-5 h-80">
                        <div class="row gx-4 gx-lg-5 h-100 align-items-center justify-content-center text-center indice" >
                            <div class="col-lg-8 align-self-end">
                                <h1 class="font-weight-bold" style="font-size: 4rem;">Irene & Alberto</h1>
                                <hr class="divider m-0" />
                            </div>
                            <div class="col-lg-8 align-self-baseline" id="principal">
                                <p class="mb-0 mb-m-4" style="font-size: 3rem;"> 23 - 09 - 2023 </p>
                                <div class="col-12">
                                    <div class="row justify-content-center">
                                        <div class="col-3 bola rounded-circle row align-items-start">
                                            <div class="num" id="dia"></div>
                                            <span class="">Días</span>
                                        </div>
                                        <div class="col-3 bola rounded-circle row align-items-start">
                                            <div class="num" id="horas"></div>
                                            <span class="">Horas</span>
                                        </div>
                                        <div class="col-3 bola rounded-circle row align-items-start">
                                            <div class="num" id="minuto"></div>
                                            <span class="">Minutos</span>
                                        </div>
                                        <div class="col-3 bola rounded-circle row align-items-start d-none d-md-flex">
                                            <div class="num" id="segundo"></div>
                                            <span class="">Segundos</span>
                                        </div>
                                    </div>
                                </div>
                                <p class="mb-2" style="font-size: 3rem;">Casa de Oficios</p>
                                <!-- <a class="btn btn-light btn-xl" href="#celebracion" style="border-radius: 24px; font-size: 1.5rem;">Bienvenidos</a> -->
                            </div>
                        </div>
                    </div>
                </header>
            </div>
            <div id="celebracion">
                <!-- Page Header-->
                <header class="masthead" style="background-image: url('static/img/Finca-casa-oficiosw.jpg')">
                    <div class="container position-relative px-4 px-lg-5">
                        <div class="row gx-4 gx-lg-5 justify-content-center">
                            <div class="col-md-10 col-lg-8 col-xl-7">
                                <div class="post-heading"></div>
                            </div>
                        </div>
                    </div>
                </header>
                <!-- Post Content-->
                <article>
                    <div class="container px-4 px-lg-5" style="background-color: white;">
                        <div class="row gx-4 gx-lg-5 justify-content-center">
                            <div class="col-md-10 col-lg-8 col-xl-7">
                                <h1 class="text mt-4" >Un gran día y un buen lugar</h1>
                                <p class="justificado"> Al final, el sentido de la vida es tener historias que contar en una mesa redonda de amigos y que cada vez que se cuente, la historia sea mejor.</p>
                                                        
                                <!-- Ceremonia -->
                                <h1 class="text mt-4 bold">Ceremonia y Banquete</h1>
                                <div class="text-center">
                                    <img class="img-fluid rounded-5" src="static/img/banquete.jpg">
                                </div>
                                
                                <div class="text-center">
                                    <p>Finca Casa de Oficios<br>
                                    Camino Casa de Oficios<br>
                                    Madrid</p>
                                    <a href="https://goo.gl/maps/LPuGYwZ3yLcpUomx5" style="font-size:20px;">
                                        <img class="img-fluid" src="static/img/ubicacio-blanc.png" />  17:00h
                                    </a>
                                    <p class="fst-italic mt-1 justificado">Contrataremos un autobús que saldrá desde Plaza de Castilla 
                                        al lugar de la boda para los que lo deseen.
                                    </p>
                                    <p>
                                        <a href="https://open.spotify.com/playlist/3Y5pZCzMOjasCkGwHAIAnI?si=7065db47afdf4420&pt=ecb10ea2cdbd7f1a2d16d35b840980a4">
                                            ¿Nos ayudas con la playlist? <i class="fa-brands fa-spotify fa-bounce fa-xl" style="color: #1ed760;"></i>
                                        </a>
                                    </p>
                                </div>
        
                                <div class="col text-center mb-4">
                                    <a class="btn btn-xl mt-4 estilo_boton" href="#asistencia">
                                        Confirmar asistencia
                                    </a>
                                </div>
                            </div>
                        </div>
                    </div>
                </article>
            </div>

            <div>
                <!-- Page Header-->
                <header class="masthead" style="background-image: url('static/img/Formulario.jpg')">			
                    <div class="container position-relative px-4 px-lg-5">
                        <div class="row gx-4 gx-lg-5 justify-content-center"></div>
                    </div>
                </header>
                <!-- Main Content-->
                <article id="asistencia">
                    <div class="container px-4 px-lg-5" style="background-color: white;">
                        <div class="row gx-4 gx-lg-5 justify-content-center">					
                                <div class="col-md-10 col-lg-11 col-xl-11 offset-md-1">
                                    <h1 class="text mt-2" >Confirmar asistencia</h1>
                                    <p class="justificado">Estamos deseando contar con vosotros en nuestra boda. 
                                        Para poder organizarlo mejor, 
                                        necesitamos que rellenéis el siguiente formulario.</p>
                                </div>
                                
                                
                                <div class="col-md-10 offset-md-1">
                                    <ul class="row">
                                        <li class="col-lg-6"><strong>Cuándo: </strong><span>23 Septiembre 2023</span></li>
                                        <li class="col-lg-6"><strong>Dónde: </strong> <span>Torremocha del Jarama</span></li>
                                        <li class="col-lg-6"><strong>Ceremonia: </strong> <span>Casa de oficios</span></li>
                                        <li class="col-lg-6"><strong>Enlace: </strong> 
                                            <a href="https://goo.gl/maps/LPuGYwZ3yLcpUomx5">
                                                Google Maps
                                            </a>
                                        </li>
                                    </ul>
                                    
                                    <form class="mt-3 col-11" id="formConfirm">		
                                        <div class="row">
                                            <!-- Nombre-->
                                            <div class="col-lg-6 my-1 form-group">
                                                <label class="form-label text-second">Nombre:</label>
                                                <input type="text" name="nombre" class="form-control form-control-user" id="nombre" placeholder="Nombre*" required>
                                            </div>
                                                
                                            <!-- Apellidos--> 
                                            <div class="col-lg-6 my-1 form-group">
                                                <label class="form-label text-second">Apellidos:</label>
                                                <input type="text" class="form-control" name="apellidos" id="apellidos" placeholder="Apellidos*" required>
                                            </div>
        
                                            <!-- Num Tel--> 
                                            <div class="col-lg-6 my-1 form-group">
                                                <label class="form-label text-second">Número de móvil:</label>
                                                <input type="text" class="form-control" name="movil" id="movil" placeholder="Número de móvil*" required>
                                            </div>
        
                                            <!-- Mail--> 
                                            <div class="col-lg-6 my-1 form-group">
                                                <label class="form-label text-second">Correo electrónico:</label>
                                                <input type="mail" class="form-control" name="mail" id="mail" placeholder="Correo electrónico*" required>
                                            </div>
        
                                            <!-- Num Adultos -->
                                            <div class="col-lg-6 my-1 form-group">
                                                <label class="form-label text-second">¿Cuántos adultos vais a venir?</label>
                                                <input type="number" class="form-control" name="adultos" id="adultos" placeholder="" required>
                                            </div>
                                            <!-- Num niños--> 
                                            <div class="col-lg-6 my-1 form-group">
                                                <label class="form-label text-second">¿Cuántos niños van a venir?</label>
                                                <input type="number" class="form-control" name="ninos" id="ninos" placeholder="">
                                            </div>
        
                                            <div class="col-12 form-group my-1">
                                                <label class="form-label text-second">¿Vendréis en bus?</label>
                                                <div class="row-md-6 form-group ms-3" required>
                                                    <div class="form-check form-check-inline">
                                                        <input class="form-check-input" type="radio" name="bus" id="bus_si" value="Sí" required>
                                                        <label class="form-check-label" for="bus_si">Sí</label>
                                                    </div>
                                                    <div class="form-check form-check-inline">
                                                        <input class="form-check-input" type="radio" name="bus" id="bus_no" value="No" required>
                                                        <label class="form-check-label" for="bus_no">No</label>
                                                    </div>
                                                </div>
                                            </div>
        
                                            <!-- Alergias -->
                                            <div class="col-lg-12 form-group mt-2">
                                                <label class="form-label text-second col-12 col-md-4">¿Tenéis alguna alergia o intolerancia? 
                                                </label>
                                                <span class="fst-italic col">Si sois vegetarianos/veganos/etc también lo podéis indicar aquí</span>
                                                <textarea class="form-control" name="alergias" id="alergias" cols="30" rows="3" maxlength="255"></textarea>
                                            </div>
        
                                            <!-- Comentario -->
                                            <div class="col-lg-12 form-group mt-2">
                                                <label class="form-label text-second">¿Algo que nos queráis decir?</label>
                                                <textarea class="form-control" name="comentarios" id="comentarios" cols="30" rows="3" maxlength="255"></textarea>
                                            </div>
        
                                            <!-- Botón enviar -->
                                            <div class="text-center">
                                                <button class = "btn btn-outline-secondary btn-xl my-3 estilo_boton" type="submit" >Enviar!</button>
                                            </div>
                                        </div>						
                                    </form>
                                
                                </div>
                            
                        </div>
                    </div>
                </article>
                <div class="modal" tabindex="-1" id="modal">
                    <div class="modal-dialog modal-dialog-centered">
                    <div class="modal-content">
                        <div class="modal-body">
                        <p>Datos recibidos! Nos vemos pronto</p>
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-primary" data-bs-dismiss="modal">Cerrar</button>
                        </div>
                    </div>
                    </div>
                </div>
            </div>

            <div id="hoteles">
                <!-- Page Header-->
                <header class="masthead" style="background-image: url('static/img/patones.jpg')">
                    <div class="container position-relative px-4 px-lg-5">
                        <div class="row gx-4 gx-lg-5 justify-content-center">
                            <div class="col-md-10 col-lg-8 col-xl-7">
                                <div class="post-heading"></div>
                            </div>
                        </div>
                    </div>
                </header>
                <!-- Main Content-->
                <main class="">
                    <div class="container px-4 px-lg-5 py-4" style="position: relative;background-color: white;">
                        <div class="row gx-4 gx-lg-5 justify-content-center">
                            <div class="col-md-10 col-lg-8 col-xl-7">
                                <p class="justificado">Por si os ayuda, aquí os dejamos alojamientos cercanos donde pasar la noche después del fiestón.</p>
                            </div>
                            <div class="col-12 col-md-8" id="map" style="height: 60vh;"></div>
                        </div>
                    </div>
                </main>

            </div>

            <div id="luna-miel">
                <!-- Page Header-->
                <header class="masthead" style="background-image: url('static/img/tai.png')">
                    <div class="container position-relative px-4 px-lg-5">
                        <div class="row gx-4 gx-lg-5 justify-content-center">
                            <div class="col-md-10 col-lg-8 col-xl-7">
                                <div class="post-heading"></div>
                            </div>
                        </div>
                    </div>
                </header>
                <!-- Post Content-->
                <article>
                    <div class="container px-4 px-lg-5" style="background-color: white;">
                        <div class="row gx-4 gx-lg-5 justify-content-center">
                            <div class="col-md-10 col-lg-8 col-xl-7">
                                <h1 class="text mt-4" >¡Nos vamos a Tailandia!</h1>
                                <p class="justificado">La vida está llena de sueños, ayúdanos a conseguir los nuestros</p>
                                <p class="justificado">ES3601280086710100054775 BANKINTER</p>
                            </div>

                            <div class="col-md-10 col-lg-8 col-xl-7">
                                <h1 class="text mt-4" >¿Nos queréis dar una sorpresa?</h1>
                                <p class="justificado">Os dejamos el contacto de nuestras wedding planner</p>
                                <p class="justificado"><a href="https://instagram.com/postdatatequieroofficial">Instagram Postdata Te quiero</a></p>
                                <p class="justificado"><a href="tel:+34696030530">Móvil de Lola 696030530</a></p>
                                <p class="justificado"><a href="tel:+34678027701">Móvil de Paula 678027701</a></p>
                            </div>
                        </div>
                    </div>
                </article>
            </div>

        </div>
        <!-- Jquery -->
        <script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>
        <!-- Bootstrap core JS-->
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ENjdO4Dr2bkBIFxQpeoTz1HIcje39Wm4jDKdf19U8gI4ddQ3GYNS7NTKfAdVQSZe" crossorigin="anonymous"></script>
        <!-- Core theme JS-->
        <script src="static/js/scripts.js"></script>

        <!-- Font Awesome icons (free version)-->
        <script src="https://use.fontawesome.com/releases/v6.1.0/js/all.js" crossorigin="anonymous"></script>
        <script src="https://unpkg.com/leaflet@1.9.3/dist/leaflet.js" integrity="sha256-WBkoXOwTeyKclOHuWtc+i2uENFpDZ9YPdf5Hf+D7ewM=" crossorigin=""></script>
        
        <script>
            let zoom = 13
            if ($(window).width()<=576){
                zoom = 12
            }
            let nombre,info,distancia,tiempo,enlace

            let hoteles = [
                            ['Hotel Posada del Camino Real','https://www.posadadelcaminoreal.net/','918430003','7','16',[40.8258942,-3.541171]],
                            ['Casa rural Melones','https://casaruralmelones.com/','659545084','9.2','16',[40.8559709,-3.4865088]],
                            ['Hotel Rural Luna Llena','https://hotel-luna-llena.htl-website.com.es/','600883082','5.9','12',[40.8354138,-3.4986106]],
                            ['Casa rural Antigua Botica','','609374296','5.9','12',[40.8353183,-3.4963437]],
            ]
            
            var map = L.map('map').setView([40.8354138,-3.4986106], zoom);
            L.tileLayer('https://tile.openstreetmap.org/{z}/{x}/{y}.png', {
                maxZoom: 15,
                attribution: '&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>'
            }).addTo(map);

            var LeafIcon = L.Icon.extend({
                options: {
                    iconSize:     [50, 50],
                    popupAnchor:  [0, -25]
                }
            });
            var torremochaIcon = new LeafIcon({iconUrl: 'static/img/celebrate.png'})
            var hotelIcon = new LeafIcon({iconUrl: 'static/img/hotel.png'})

            for (const h of hoteles) {
                nombre = h[0]
                distancia = h[3]
                tiempo = h[4]
                enlace = h[1]
                info = ""
                if ( enlace !== ""){
                    info = `<a href="${enlace}" target="_blank">Link</a>/`
                }
                info += h[2]

                const CARD =	`<h5>${nombre}</h5> <hr class ="m-0 mb-2">
                            <span class="fw-bold">Información del sitio: </span><span>${info}</span><br>
                            <span class="fw-bold">Distancia a la finca: </span><span>${distancia} km</span><br>
                            <span class="fw-bold">Tiempo aprox.: </span><span>${tiempo} min</span>`

                let popup = new L.Popup().setContent(CARD);
                L.marker(h[5], {icon: hotelIcon}).addTo(map).bindPopup(popup);
            }
            var popup = new L.Popup().setContent('<h5>Casa de oficios</h5> <hr class ="m-0 mb-2">');

        L.marker([40.810055, -3.499836], {icon: torremochaIcon}).addTo(map).bindPopup(popup);
        </script>

        <script>
            function getTimeRemaining(endtime) {
                // Calcula la diferencia en milisegundos
                const diferencia = Math.abs(Date.parse(endtime) - Date.parse(new Date()));

                // Calcula los valores en días, horas, minutos y segundos
                const days = Math.floor(diferencia / (1000 * 60 * 60 * 24));
                const hours = Math.floor((diferencia % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
                const minutes = Math.floor((diferencia % (1000 * 60 * 60)) / (1000 * 60));
                const seconds = Math.floor((diferencia % (1000 * 60)) / 1000);

                // const seconds = Math.ceil((total / 1000) % 60);
                // const minutes = Math.ceil((total / 1000 / 60) % 60);
                // const hours = Math.ceil((total / (1000 * 60 * 60)) % 24);
                // const days = Math.ceil(total / (1000 * 60 * 60 * 24));

                return {
                    diferencia,
                    days,
                    hours,
                    minutes,
                    seconds
                };
            }

            function initializeClock(endtime) {
                const daysSpan = $('#dia');
                const hoursSpan = $('#horas');
                const minutesSpan = $('#minuto');
                const secondsSpan = $('#segundo');

                function updateClock() {
                    const t = getTimeRemaining(endtime);
                    if (daysSpan ==0){
                        daysSpan.parent().addClass('d-none')
                    }
                    daysSpan.text(t.days);
                    hoursSpan.text(('0' + t.hours).slice(-2));
                    minutesSpan.text(('0' + t.minutes).slice(-2));
                    secondsSpan.text(('0' + t.seconds).slice(-2));
                    if (t.total <= 0) {
                        clearInterval(timeinterval);
                    }
                }

                updateClock();
                const timeinterval = setInterval(updateClock, 1000);
            }

            const deadline = new Date(2023, 8, 23, 18, 0, 0, 0)
            initializeClock(deadline);

            $(document).ready(function(){
                $('#principal').animate({
                    scrollTop: 1000000000
                }, 800);
            })
        </script>

        <script>
            $("#formConfirm").on("submit", function(e){
                e.preventDefault()
                let data = $("#formConfirm").serializeArray()
                $.ajax({
                    url: "https://api.apispreadsheets.com/data/1bysPr6qgBItEphT/",
                    type: "post",
                    data: data,
                    success: function(){
                        // alert("Form Data Submitted :)")
                        $('#modal').modal('show');
                    },
                    error: function(){
                        alert("Se ha producido un error al enviar los datos :( \n Inténtalo más tarde")
                    }
                });
            })
        </script>
    </body>
</html>